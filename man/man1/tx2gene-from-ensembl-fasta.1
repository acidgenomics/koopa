


    fasta_file [output_file="${output_file}"]

Generate transcript-to-gene mappings from Ensembl FASTA.

required positional arguments:
    1.  Transcriptome FASTA file.
        Assuming input FASTA is gzip compressed.

optional positional arguments with defaults:
    2.  Output CSV file.
        Defaults to '${output_file}'.


details:
    Generates a CSV mapping file from the reference transcriptome input,
        suitable for use with 'tximport()' in R.
    Output does not contain column names.
    Transcript and gene identifier versions are maintained.

    Column 1: transcripts
    Column 2: genes
 
    Internal processing steps:
    1. Decompress FASTA and pipe to stdout.
    2. Keep only headers prefixed with '>'.
    3. Keep only transcript (1) and gene (4) identifier columns.
    4. Remove duplicate lines.
    5. Trim header prefix '>'.
    6. Prepare ',' delim for CSV output.
    7. Write to '${output_file}'.

    Ensembl GTF files do not contain complete transcript-to-gene mappings.
    This is particularly an issue for the Homo sapiens reference genome.

see also:
    Modified version of @ag1805x script.
    - https://support.bioconductor.org/p/123134/
    - https://gist.github.com/ag1805x/63007cf0ba20b078d6d3c849064a1bff

note:
    Bash script.
    Updated 2019-10-23.
