#!/usr/bin/env bash
set -Eeu -o pipefail

KOOPA_PREFIX="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." \
    >/dev/null 2>&1 && pwd -P)"
# shellcheck source=/dev/null
source "${KOOPA_PREFIX}/shell/bash/include/header.sh"

dir="${1:-"."}"

find "$dir" \
    -maxdepth 1 \
    -type f \
    | sed 's/.*\.//' \
    | sort \
    | uniq -c \
    | sed 's/^ *//g' \
    | sed 's/ /\t/g'
