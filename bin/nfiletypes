#!/usr/bin/env bash

script_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd -P)"
# shellcheck source=/dev/null
source "${script_dir}/../shell/bash/include/header.sh"

koopa::nfiletypes() {
    local dir
    koopa::assert_has_args_ne "$#" 1
    koopa::assert_is_installed find
    dir="${1:-.}"
    find "$dir" \
        -maxdepth 1 \
        -type f \
        | sed 's/.*\.//' \
        | sort \
        | uniq -c \
        | sed 's/^ *//g' \
        | sed 's/ /\t/g'
    return 0
}

koopa::nfiletypes "$@"
