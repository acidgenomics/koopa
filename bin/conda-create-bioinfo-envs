#!/usr/bin/env bash
set -Eeu -o pipefail

# shellcheck source=/dev/null
source "$(koopa header bash)"



# Notes                                                                     {{{1
# ==============================================================================

# outdated:
# - chromhmm needs to be updated to v1.19.
# - gatk needs to be updated to v4.
#
# missing:
# - genrich
# - sratools (fasterq-dump)
#
# variation:
# - peddy
#
# methylation:
# - bismark
#
# contamination:
# - kraken
#
# workflows:
# - cromwell



# Usage                                                                     {{{1
# ==============================================================================

usage() {
cat << EOF
usage: conda-create-bioinfo-envs [--help|-h]

Create multiple conda environments for bioinformatics.

optional arguments:
    --help, -h
        Show this help message and exit.

details:
    Installs non-R bioinformatics tools.
    For R, compile from source instead.

see also:
    conda env list

note:
    Bash script.
    Updated 2019-09-24.
EOF
}

_koopa_help "$@"



# Script                                                                    {{{1
# ==============================================================================

_koopa_assert_is_installed conda

bioinfo=(
    bamtools
    bedtools
    bioawk
    biobambam
    htslib
    samblaster
    samtools
    seqtk
)
# shellcheck disable=SC2068
conda create -qy --name="bioinfo" ${bioinfo[@]}

conda create -qy --name="nextflow" nextflow
conda create -qy --name="qc" fastqc multiqc qualimap

conda create -qy --name="align-bwa" bwa
conda create -qy --name="align-bowtie2" bowtie2
conda create -qy --name="align-hisat2" hisat2
conda create -qy --name="align-kallisto" kallisto
conda create -qy --name="align-minimap2" minimap2
conda create -qy --name="align-rapmap" rapmap
conda create -qy --name="align-salmon" salmon
conda create -qy --name="align-star" star

conda create -qy --name="chipseq-chromhmm" chromhmm
conda create -qy --name="chipseq-deeptools" deeptools
conda create -qy --name="chipseq-homer" homer
conda create -qy --name="chipseq-macs2" macs2

conda create -qy --name="fusions-arriba" arriba
conda create -qy --name="fusions-ericscript" ericscript
conda create -qy --name="fusions-oncofuse" oncofuse
conda create -qy --name="fusions-pizzly" pizzly
conda create -qy --name="fusions-star-fusion" star-fusion

# > conda create -qy --name="trim-atropos" atropos
# > conda create -qy --name="trim-trimmomatic" trimmomatic

# > conda create -qy --name="fgbio" fgbio
# > conda create -qy --name="gatk" gatk
