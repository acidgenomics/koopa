#!/usr/bin/env bash

KOOPA_HOME="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." \
    >/dev/null 2>&1 && pwd -P)"
# shellcheck source=/dev/null
source "${KOOPA_HOME}/shell/bash/include/header.sh"



# Notes                                                                     {{{1
# ==============================================================================

# outdated:
# - chromhmm needs to be updated to v1.19.
# - gatk needs to be updated to v4.
#
# missing:
# - genrich
# - sratools (fasterq-dump)
#
# variation:
# - peddy
#
# methylation:
# - bismark



# Usage                                                                     {{{1
# ==============================================================================

usage() {
cat << EOF
$(_koopa_help_header)

Create multiple conda environments for bioinformatics.

$(_koopa_help_args)

details:
    Installs non-R bioinformatics tools.
    For R, compile from source instead.

see also:
    conda env list

note:
    Bash script.
    Updated 2019-10-06.
EOF
}

_koopa_help "$@"



# Script                                                                    {{{1
# ==============================================================================

_koopa_assert_is_installed conda

# Custom                                                                    {{{2
# ------------------------------------------------------------------------------

conda create -qy --name="bioinfo-base" \
    bamtools \
    bedtools \
    bioawk \
    biobambam \
    htslib \
    samblaster \
    samtools \
    seqtk

conda create -qy --name="qc" \
    fastqc \
    multiqc \
    qualimap

# Workflows                                                                 {{{2
# ------------------------------------------------------------------------------

# > conda-create-env cromwell
# > conda-create-env fgbio
# > conda-create-env gatk

conda-create-env nextflow

# Tools                                                                     {{{2
# ------------------------------------------------------------------------------

conda-create-env black
conda-create-env gffutils
conda-create-env igvtools
conda-create-env jupyter

# Quality control                                                           {{{2
# ------------------------------------------------------------------------------

conda-create-env kraken
conda-create-env picard

# Aligners                                                                  {{{2
# ------------------------------------------------------------------------------

conda-create-env bowtie2
conda-create-env bwa
conda-create-env hisat2
conda-create-env kallisto
conda-create-env minimap2
conda-create-env rapmap
conda-create-env salmon
conda-create-env star

# bcbio                                                                     {{{2
# ------------------------------------------------------------------------------

# > conda-create-env r-bcbiornaseq
# > conda-create-env r-bcbiosinglecell

# Fusion detection                                                          {{{2
# ------------------------------------------------------------------------------

conda-create-env arriba
conda-create-env ericscript
conda-create-env oncofuse
conda-create-env pizzly
conda-create-env star-fusion

# ChIP-seq                                                                  {{{2
# ------------------------------------------------------------------------------

# > conda-create-env bioconductor-diffbind

conda-create-env chromhmm
conda-create-env deeptools
conda-create-env homer
conda-create-env macs2

conda env list
