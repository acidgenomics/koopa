#!/usr/bin/env bash

script_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd -P)"
# shellcheck source=/dev/null
source "${script_dir}/../shell/bash/include/header.sh"

koopa::move_into_dated_dirs_by_timestamp() {
    local file subdir
    koopa::assert_has_args "$#"
    for file in "$@"
    do
        subdir="$(koopa::stat_modified "$file" '%Y/%m/%d')"
        koopa::mv -t "$subdir" "$file"
    done
    return 0
}

koopa::move_into_dated_dirs_by_timestamp "$@"
