#!/usr/bin/env bash

script_dir="$(cd "$(dirname "${BASH_SOURCE[0]}")" &>/dev/null && pwd -P)"
# shellcheck source=/dev/null
source "${script_dir}/../shell/bash/include/header.sh"

koopa::assert_has_args "$#"

for file in "$@"
do
    target_dir="$(koopa::stat_modified "$file" '%Y/%m/%d')"
    mkdir -pv "$target_dir"
    target_file="${target_dir}/$(basename "$file")"
    mv -v "$file" "$target_file"
done
