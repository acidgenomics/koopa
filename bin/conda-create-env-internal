#!/usr/bin/env bash

KOOPA_HOME="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." \
    >/dev/null 2>&1 && pwd -P)"
# shellcheck source=/dev/null
source "${KOOPA_HOME}/shell/bash/include/header.sh"



# Usage                                                                     {{{1
# ==============================================================================

usage() {
cat << EOF
$(_koopa_help_header)

Create internal conda environments.

$(_koopa_help_args)

details:
    Useful environment on virtual machines running a conservative Linux release
    (i.e. RHEL 7) that bundles a very old version of pandoc.

see also:
    conda env list

note:
    Bash script.
    Updated 2019-10-18.
EOF
}

_koopa_help "$@"



# Script                                                                    {{{1
# ==============================================================================

_koopa_assert_is_installed conda

prefix="$(_koopa_conda_internal_prefix)/envs"
envs=(
    "pandoc"
    "texlive-core"
)

for env in "${envs[@]}"
do
    conda create -qy --prefix="${prefix}/${env}" "$env"
done
