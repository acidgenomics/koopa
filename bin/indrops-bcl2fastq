#!/usr/bin/env bash
set -Eeu -o pipefail

# Generate FASTQ files from inDrops Illumina BCL data.
# Modified 2019-06-18.

# shellcheck source=/dev/null
source "${KOOPA_DIR}/shell/bash/include/functions.sh"

_koopa_assert_is_installed bcl2fastq

bcl2fastq \
    --use-bases-mask y*,y*,y*,y* \
    --mask-short-adapter-reads 0 \
    --minimum-trimmed-read-length 0 \
    > bcl2fastq.log 2>&1
