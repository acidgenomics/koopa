#!/usr/bin/env bash

KOOPA_HOME="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." \
    >/dev/null 2>&1 && pwd -P)"
# shellcheck source=/dev/null
source "${KOOPA_HOME}/shell/bash/include/header.sh"

_koopa_help "$@"
_koopa_assert_has_no_args "$@"

all="$(_koopa_list_path_priority)"
mapfile -t all_arr < <(echo "$all")

unique="$(echo "$all" | awk '!a[$0]++')"
mapfile -t unique_arr < <(echo "$unique")

n_all="${#all_arr[@]}"
n_unique="${#unique_arr[@]}"
n_dupes="$((n_all-n_unique))"

if [[ "$n_dupes" -gt 0 ]]
then
    _koopa_note "${n_dupes} duplicate(s) detected in PATH."
fi

echo "$all"
